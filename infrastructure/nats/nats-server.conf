# NATS Server Configuration for Facto

# Server identification
server_name: facto-nats

# Client connections
port: 4222
max_connections: 10000
max_payload: 8MB

# HTTP monitoring
http_port: 8222

# JetStream configuration
jetstream {
    store_dir: /data
    max_memory_store: 1GB
    max_file_store: 10GB
}

# Logging
debug: false
facto: false
logtime: true
log_file: "/data/nats.log"

# Connection timeouts
ping_interval: 30s
ping_max: 3
write_deadline: 10s

# TLS (disabled for development)
# tls {
#     cert_file: "/etc/nats/certs/server-cert.pem"
#     key_file: "/etc/nats/certs/server-key.pem"
#     ca_file: "/etc/nats/certs/ca.pem"
#     verify: true
# }

# Cluster configuration (for production scaling)
# cluster {
#     name: facto-cluster
#     port: 6222
#     routes: [
#         nats-route://nats-1:6222
#         nats-route://nats-2:6222
#         nats-route://nats-3:6222
#     ]
# }
